#include <bits/stdc++.h>

using namespace std;

#define ll          long long
#define FOR(i,a,b)  for (int i=a; i<=b; ++i)
#define FORD(i,a,b) for (int i=a; i>=b; --i)
#define endl        cout << '\n'

template<class X, class Y> 
    bool maximize(X &x, const Y &y){return (x < y) ? x = y, 1 : 0;}

template<class X, class Y> 
    bool minimize(X &x, const Y &y){return (x > y) ? x = y, 1 : 0;}

const int MAXN = 1e5 + 5;
int n,q;
pair<int,int> a[MAXN];

bool cmp(const pair<int,int> &x, const pair<int,int> &y)
{
    return x.second < y.second;
}

signed main(void)
{
    ios_base::sync_with_stdio(false);
    cin.tie(nullptr); cout.tie(nullptr);

    cin >> n >> q;
    FOR(i,1,n) cin >> a[i].first, a[i].second = i;
    sort(a+1,a+n+1);

    while (q--)
    {
        int l, r, x; cin >> l >> r >> x;
        int L = lower_bound(a+1,a+n+1,make_pair(x,INT_MIN)) - a;
        int R = upper_bound(a+1,a+n+1,make_pair(x,INT_MAX)) - a;

        if (L > R)
        {
            cout << "0\n";
            continue;
        }

        int i = lower_bound(a+L,a+R,make_pair(0,l), cmp) - a;
        int j = upper_bound(a+L,a+R,make_pair(0,r), cmp) - a;


        cout << max(0,j-i) << '\n';
    }    

    cerr << (1.0 * clock() / CLOCKS_PER_SEC) << "s\n";
    return 0;
}
